{% extends "base.html" %} 
{% load humanize %}

{% block titulo_pagina %}
    <h2>Ranking dos cursos com mais Ofertas por UF com ENADE Médio >= 2,5</h2>
    <h3>Serão exibidos um máximo de até 10 cursos por UF</h3>
{% endblock %} 

{% block conteudo %}

<div style="display: flex; flex-direction: column; gap: 32px;">

    {% if ranking_por_estado %}
        {% for estado, cursos in ranking_por_estado.items %}
            <table class="tabela-cursos">
                <thead>
                    <tr>
                        <th colspan="4" class="titulo">{{ estado }}</th>
                    </tr>
                    <tr>
                        <th>Posição</th>
                        <th>Curso</th>
                        <th>Ofertas</th>
                        <th>ENADE<br><small>Méd[Min–Máx]</small></th>
                    </tr>
                </thead>
                <tbody>
                    {% for curso in cursos %}
                        <tr>
                            <td>{{ curso.posicao }}º</td>
                            <td>{{ curso.curso }}</td>
                            <td>{{ curso.ofertas|intcomma }}</td>
                            <td>{{ curso.enade_media|floatformat:2 }} [{{ curso.enade_min }}–{{ curso.enade_max }}]</td>
                        </tr>
                    {% endfor %}
                </tbody>
            </table>
            <br>
        {% endfor %}
    {% else %}
        <p>Nenhum dado encontrado.</p>
    {% endif %}

</div>

{% endblock %}
